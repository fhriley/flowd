20041030
 - (djm) Fix a few bugs in the store code: calculate lengths correctly and 
   error when we encounter unsupported fields
 - (djm) Implement most of the Python API in native code, using the C API
 - (djm) Kill whitespace at EOL

20041030
 - (djm) Rework flow reading C API to be more friendly to wrapping into Perl
   and Python: add functions to convert a serialised flow record into a
   struct store_flow_complete.
 - (djm) Skip CRC32 calculations when aren't reading/writing a CRC32, saves a
   little time.
 - (djm) Add a serialisation function to match the new deserialisation function
 - (djm) More C API tidying: make the functions thread-safe by eliminating 
   static buffers. Error messages are now formatted into caller-supplied buffers
 - (djm) Make store_ functions return a meaningful error code, in addition to 
   an error message. Useful for Perl/Python wrapper functions.

20041011
 - (djm) Kill whitespace at EOL, improve nf9 debugging
 - (djm) Add option to keep flowd in foreground without verbose debugging; 
   patch from lars AT unet.net.ph
 - (djm) Document new -g and existing -D options

20040929
 - (djm) Don't refuse to write flows lacking gateway addr

20040927
 - (djm) In flow formattinhg function (C, Perl and Python), surround all
   addresses with square brackets so ports may be seen in IPv6 addresses.
   Spotted by Chris Gascoigne

20040924
 - (djm) Tidy README and mention v.7 and v.9 support
 - (djm) Recommend use of "flow source" in flowd.conf for NetFlow 9
 - (djm) Add tree code for recent changes
 - (djm) Store agent address for v.9 flows
 - (djm) Add some tools to the tools/ directory
 - (djm) Add tools/ directory to RPM
 - (djm) Make RPM tools subpackage
 - (djm) Release flowd-0.6

20040921
 - (djm) Implement NetFlow v.9 support. Some more work to do yet, but it is 
   basically functional
 - (djm) Bugfix nf v.9: we never updated the peer record
 - (djm) Tidy nv v.9 code: factor out data flowset to store flow conversion and
   don't process any flows unless the entire flowset is valid.

20040920
 - (djm) Add new "flow source" directive, to specify hosts that we are willing
   to receive flows from
 - (djm) Split peer tracking code out into separate file

20040916
 - (djm) Fix transposed flow limits for v.1 vs v.5 flows; found by 
   jon AT exalia.com
 - (djm) Generate version number from autoconf, rather than hardcoding old (!)
   value in Makefile; found by jon AT exalia.com
 - (djm) Fix permissions on generated setup.py
 - (djm) Release flowd-0.5
 - (djm) Add packet dumping code (disabled by default)
 - (djm) Add untested NetFlow v.7 parsing code
 - (djm) Add peer tracking and stateholding code, will be needed to support 
   NetFlow v.9 and IPFIX

20040914
 - (djm) Use a table-based parser in Flowd.pm, like the python code

20040906
 - (djm) Actually check for strlcpy and strlcat in configure

20040908
 - (djm) Fix parsing bug that could suppress errors for invalid addresses in
   filter rules

20040906
 - (djm) Reformat README, upgrade from beta to production quality and mention
   PLATFORMS file
 - (djm) Mention FreeBSD and Redhat 7.3 in PLATFORMS file
 - (djm) Skip CRC calculation in Perl and Python code when there is no CRC 
   in the record. Speeds up processing of CRC-less files considerably
 - (djm) Generate Flowd.pm, flowd.py and setup.py from template files, saving
   me the necessity of editing each whenever the version changes

20040823
 - (djm) NetFlow v.5 allows 30 flows per packet, not 24
 - (djm) Call tzset() so unpriv child gets log timestamps right
 - (djm) Missing htons() in error path

20040819
 - (djm) Fixes to Flowd.pm for Redhat 7.3 (Perl 5.6.1):
   - "use constant" syntax
   - Pull PF_INET6 from Socket6, not Socket
   - Compatible Math::BigInt code
   - Remove leading '+' from Math::BigInts when printing
   - Avoid Math::BigInt altogether for counters < 2^32
 - (djm) Don't refuse to load configs without filter rules
 - (djm) Support "store SRC_ADDR" and "store DST_ADDR" aliases
 - (djm) Fix flowd.conf store example
 - (djm) Crank versions to 0.4.1

20040817
 - (djm) Make sure we reinstate signal handers after invocation, fixes 
         exit on 2nd reconfigure on Solaris
 - (djm) Don't rewrite pidfile if its path hasn't changed - avoids race 
         condition false-failures in "while [ 1 ] ; do kill ... ; done" 
         stress test
 - (djm) Improve PLATFORMS file a little
 - (djm) Release flowd 0.4
 - (djm) Unbreak spec file for Redhat 9

20040816
 - (djm) Pull in some portability fixes from portable OpenSSH
 - (djm) Crank version
 - (djm) Portability fixes for Redhat 9
 - (djm) Make Python API optional in RPM spec as it is broken on Redhat 9
 - (djm) Add some standard logging code from softflowd, that does stderr right
         and is a little more portable
 - (djm) Add PLATFORMS notes file
 - (djm) Lots of portability goop to get flowd compiling of Solaris 9
 - (djm) Reflect Solaris support in PLATFORMS and INSTALL
 
20040813
 - (djm) Bring python inteface up to the same level as the perl and C ones
 - (djm) Print tcp_flags as two hex digits, in C API
 - (djm) Improve the README, mention Python API
 - (djm) Reorganise signal handers, add SIGUSR1 for reopen logfiles
 - (djm) Document signals and tidy
 - (djm) Portability and warning fixes
 - (djm) Add python install script and mention it in INSTALL
 - (djm) Enable reload method in initscript, now that it works
 - (djm) Rework RPM spec to have perl and python modules in subpackages
 - (djm) Release flowd 0.3

20040812
 - (djm) Parse and verify config in a subprocess, avoiding all memory leaks
   and side effects.
 - (djm) Activate runtime reconfigure
 - (djm) Store address families for each address in flow
 - (djm) Add start of a python interface to the flow log format

20040810
 - (djm) Add finish() method to perl API, to close flow log
 - (djm) Fix filter format_rule for rules that match ports but not addrs
 - (djm) Set IPV6_V6ONLY on AF_INET6 sockets - avoids stupid mapped address crap
 - (djm) Don't leak fd on logfile reopen
 - (djm) Move listener open function to privsep.c, in preparation for runtime 
   reconfigure support
 - (djm) Implement runtime reconfigure, currently disabled because of memory 
   leaks in config parsing code

20040804
 - (djm) Don't clobber existing configuration file
 - (djm) Rework the storage format a little, so we can be more compact when
   storing a few fields - NB this is an incompatible format change
 - (djm) Check log header when reopening log file to ensure we don't append
   new-format records to an old-format log

20040803
 - (djm) Tidy flowd.conf to the point where it can be installed by default
 - (djm) Tidy Flowd.pm and perl reader application a little
 - (djm) Don't allow port in filter rules for !(tcp|udp)
 - (djm) Support negated matching in filter language. E.g. agent ! x.x.x.x/y
 - (djm) Document negated matching in flowd.conf manpage
 - (djm) Install flowd.conf by default
 - (djm) Track filter rule evaluations, matches and wins
 - (djm) Install SIGINFO (and USR1) handler to display filter counters
 - (djm) Simplify perl module and add a little POD 
 - (djm) Create an RPM package (works on FC2 at least)
 - (djm) Release flowd-0.2

20040730
 - (djm) Release flowd 0.1

$Id$

